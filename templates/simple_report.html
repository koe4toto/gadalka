{% extends 'layout.html' %}

{% block body %}
    <a class="text-secondary" href="/reports">Отчеты</a><br>
    &#8595;
    <div class="row">
      <div class="col-10">
          <h1>{{ report[0][1] }}</h1>
      </div>
    <div class="col-2">
      <form action="{{url_for('reports.delete_report', id=report[0][0])}}" method="post">
          <input type="hidden" name="_method" value="DELETE">
          <input type="submit" value=" Удалить" class="btn btn-link float-right text-danger">
      </form>
    </div>
    </div>

    <p  class="lead">{{ report[0][2] }}</p>
    <a class="btn btn-outline-primary" href="/edit_report/{{ report[0][0] }}"><i class="fas fa-pencil-alt"></i> Редактировать</a>

    <hr>


<style>

td {
  border-bottom: 1px solid #fbfbfb;
  background-size: 0% 100%;
  background-repeat: no-repeat;
  -webkit-transition: all .1s ease-out;
  -moz-transition: all .1s ease-out;
  transition: all .1s ease-out;

}

td:nth-child(1) {
  width: 10%;
  background-image: -webkit-linear-gradient(right, #3498db, #3498db);
  background-image: -moz-linear-gradient(right, #3498db, #3498db);
  background-image: linear-gradient(right, #3498db, #3498db);
  background-position: left top;
}

td:nth-child(2) {
  width: 10%;
  background-image: -webkit-linear-gradient(right, #349844, #349844);
  background-image: -moz-linear-gradient(right, #349844, #349844);
  background-image: linear-gradient(right, #349844, #349844);
  background-position: left top;
}

td.int {
  width: 10%;
  background-image: -webkit-linear-gradient(right, #d49800, #d49844);
  background-image: -moz-linear-gradient(right, #d49800, #d49844);
  background-image: linear-gradient(right, #d49800, #d49844);
  background-position: left top;
}

td:nth-child(3) {
  width: 10%;
  background-image: -webkit-linear-gradient(right, #349844, #349844);
  background-image: -moz-linear-gradient(right, #349844, #349844);
  background-image: linear-gradient(right, #349844, #349844);
  background-position: left top;
}

td:nth-child(4) {
  width: 10%;
  background-image: -webkit-linear-gradient(right, #3498db, #3498db);
  background-image: -moz-linear-gradient(right, #3498db, #3498db);
  background-image: linear-gradient(right, #3498db, #3498db);
  background-position: left top;
}


</style>

<script type="text/javascript">
var twoColComp = {
  init: function (){
    var tables = document.getElementsByTagName('table');

    for(var i = 0; i < tables.length; i++) {
      if (new RegExp('(^| )two-column-comp( |$)', 'gi').test(tables[i].className)){
         return;
      }

      var h = tables[i].clientHeight,
          t = tables[i].getBoundingClientRect().top,
          wT = window.pageYOffset || document.documentElement.scrollTop,
          wH = window.innerHeight;

      if(wT + wH > t + h/2){
         this.make(tables[i]);
       }
    }
  },

  make : function(el){
    var rows = el.getElementsByTagName('tr'),
        vals = [],
        max,
        percent;

    for(var x = 0; x < rows.length; x++) {
      var cells = rows[x].getElementsByTagName('td');
      for(var y = 0; y < cells.length; y++){
        vals.push(parseInt(cells[y].innerHTML, 10));
      }
    }

    max = Math.max.apply( Math, vals );
    percent = 100/max;

    for(x = 0; x < rows.length; x++) {
      var cells = rows[x].getElementsByTagName('td');
      for(var y = 0; y < cells.length; y++){
        var currNum = parseInt(cells[y].innerHTML, 10);
        cells[y].style.backgroundSize = percent * currNum + "% 100%";
        cells[y].style.transitionDelay = x/20 + "s";
      }
    }

    el.className =+ " two-column-comp"
  }
}

window.onload = function(){
  twoColComp.init();
}

window.onscroll = function(){
  twoColComp.init();
}

</script>



<div class="row">

  <div class="col-md-6">
      <table class="table table-hover" style="width: 100%;">
        <tr>
          <th>2014</th>
          <th>2015</th>
        </tr>
        <tr>
          <td>2</td>
          <td>8</td>
        </tr>
        <tr>
          <td>3</td>
          <td>9</td>
        </tr>
        <tr>
          <td>7</td>
          <td>11</td>
        </tr>
        <tr>
          <td>10</td>
          <td>9</td>
        </tr>
        <tr>
          <td>9</td>
          <td>10</td>
        </tr>
        <tr>
          <td>11</td>
          <td>10</td>
        </tr>
        <tr>
          <td>15</td>
          <td>9</td>
        </tr>
        <tr>
          <td>18</td>
          <td>10</td>
        </tr>
        <tr>
          <td>17</td>
          <td>11</td>
        </tr>
        <tr>
          <td>20</td>
          <td>12</td>
        </tr>
      </table>
  </div>
  <div class="col-md-3">
    <table class="table table-hover" style="width: 100%;">
      <tr>
        <th scope="col">2016</th>
      </tr>
      <tr>
        <td>dsfsd</td>
      </tr>
      <tr>
        <td>sdf</td>
      </tr>
      <tr>
        <td>sf</td>
      </tr>
      <tr>
        <td>sdf</td>
      </tr>
      <tr>
        <td>gfd</td>
      </tr>
      <tr>
        <td>dfg</td>
      </tr>
      <tr>
        <td>dfg</td>
      </tr>
      <tr>
        <td>dfgdf</td>
      </tr>
      <tr>
        <td>serw</td>
      </tr>
      <tr>
        <td>wre</td>
      </tr>
    </table>
  </div>
  <div class="col-md-3">
    <table class="table table-hover" style="width: 100%;">
      <tr>
        <th scope="col">2016</th>
      </tr>
      <tr>
        <td class="int">8</td>
      </tr>
      <tr>
        <td class="int">9</td>
      </tr>
      <tr>
        <td class="int">11</td>
      </tr>
      <tr>
        <td class="int">21</td>
      </tr>
      <tr>
        <td class="int">10</td>
      </tr>
      <tr>
        <td class="int">10</td>
      </tr>
      <tr>
        <td class="int">9</td>
      </tr>
      <tr>
        <td class="int">10</td>
      </tr>
      <tr>
        <td class="int">11</td>
      </tr>
      <tr>
        <td class="int">12</td>
      </tr>
    </table>
  </div>

  </div>
</div>

{% endblock %}
